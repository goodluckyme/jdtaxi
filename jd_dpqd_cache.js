/**
 * cron: 30 11,23 * * *
*/
const $ = new Env('缓存店铺数据-github');
console.log($.time("HH:mm:ss.S----"), '当前版本号', '20240217');

var _0xode='jsjiami.com.v7';const _0x3af625=_0x2f43;(function(_0x2f373c,_0x48b50e,_0x20dd01,_0x84460e,_0x12011b,_0x4af8e0,_0xe291b3){return _0x2f373c=_0x2f373c>>0x1,_0x4af8e0='hs',_0xe291b3='hs',function(_0x429a73,_0x4bc51d,_0x3ef10b,_0x1cef2c,_0x1ce701){const _0x5ccb71=_0x2f43;_0x1cef2c='tfi',_0x4af8e0=_0x1cef2c+_0x4af8e0,_0x1ce701='up',_0xe291b3+=_0x1ce701,_0x4af8e0=_0x3ef10b(_0x4af8e0),_0xe291b3=_0x3ef10b(_0xe291b3),_0x3ef10b=0x0;const _0x2f157e=_0x429a73();while(!![]&&--_0x84460e+_0x4bc51d){try{_0x1cef2c=-parseInt(_0x5ccb71(0x23e,'P(Xx'))/0x1+parseInt(_0x5ccb71(0x26b,'@n3%'))/0x2+parseInt(_0x5ccb71(0x1e4,'GJZZ'))/0x3*(-parseInt(_0x5ccb71(0x1f9,'GZwd'))/0x4)+parseInt(_0x5ccb71(0x25d,'ImBD'))/0x5+-parseInt(_0x5ccb71(0x216,'3^gT'))/0x6*(-parseInt(_0x5ccb71(0x221,'Z@Q6'))/0x7)+parseInt(_0x5ccb71(0x225,'GJZZ'))/0x8+parseInt(_0x5ccb71(0x247,'iQ6y'))/0x9;}catch(_0x540350){_0x1cef2c=_0x3ef10b;}finally{_0x1ce701=_0x2f157e[_0x4af8e0]();if(_0x2f373c<=_0x84460e)_0x3ef10b?_0x12011b?_0x1cef2c=_0x1ce701:_0x12011b=_0x1ce701:_0x3ef10b=_0x1ce701;else{if(_0x3ef10b==_0x12011b['replace'](/[WwrOQBeqMDSYHfPkguJV=]/g,'')){if(_0x1cef2c===_0x4bc51d){_0x2f157e['un'+_0x4af8e0](_0x1ce701);break;}_0x2f157e[_0xe291b3](_0x1ce701);}}}}}(_0x20dd01,_0x48b50e,function(_0x33559b,_0x5a4ef4,_0x284edf,_0x361887,_0x48200d,_0x45e862,_0x27a6a3){return _0x5a4ef4='\x73\x70\x6c\x69\x74',_0x33559b=arguments[0x0],_0x33559b=_0x33559b[_0x5a4ef4](''),_0x284edf=`\x72\x65\x76\x65\x72\x73\x65`,_0x33559b=_0x33559b[_0x284edf]('\x76'),_0x361887=`\x6a\x6f\x69\x6e`,(0x157693,_0x33559b[_0x361887](''));});}(0x192,0xa00b7,_0x40d1,0xcb),_0x40d1)&&(_0xode=_0x3af625(0x227,'L07['));function _0x2f43(_0x29bb13,_0x34548b){const _0x15cca9=_0x40d1();return _0x2f43=function(_0x22819f,_0xcd3f18){_0x22819f=_0x22819f-0x1ce;let _0x40d18d=_0x15cca9[_0x22819f];if(_0x2f43['IncpjI']===undefined){var _0x2f43de=function(_0x32f7e7){const _0x40ba1e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x6ed99d='',_0x311fe6='',_0x2dd8f1=_0x6ed99d+_0x2f43de;for(let _0x36f81e=0x0,_0x4fbe9c,_0x7744e3,_0x10a49a=0x0;_0x7744e3=_0x32f7e7['charAt'](_0x10a49a++);~_0x7744e3&&(_0x4fbe9c=_0x36f81e%0x4?_0x4fbe9c*0x40+_0x7744e3:_0x7744e3,_0x36f81e++%0x4)?_0x6ed99d+=_0x2dd8f1['charCodeAt'](_0x10a49a+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4fbe9c>>(-0x2*_0x36f81e&0x6)):_0x36f81e:0x0){_0x7744e3=_0x40ba1e['indexOf'](_0x7744e3);}for(let _0x5d18fc=0x0,_0x12a4ac=_0x6ed99d['length'];_0x5d18fc<_0x12a4ac;_0x5d18fc++){_0x311fe6+='%'+('00'+_0x6ed99d['charCodeAt'](_0x5d18fc)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x311fe6);};const _0xe20cb2=function(_0x57d785,_0x60a803){let _0x3b6357=[],_0x84194d=0x0,_0x2c3bf9,_0x336abd='';_0x57d785=_0x2f43de(_0x57d785);let _0x24d37c;for(_0x24d37c=0x0;_0x24d37c<0x100;_0x24d37c++){_0x3b6357[_0x24d37c]=_0x24d37c;}for(_0x24d37c=0x0;_0x24d37c<0x100;_0x24d37c++){_0x84194d=(_0x84194d+_0x3b6357[_0x24d37c]+_0x60a803['charCodeAt'](_0x24d37c%_0x60a803['length']))%0x100,_0x2c3bf9=_0x3b6357[_0x24d37c],_0x3b6357[_0x24d37c]=_0x3b6357[_0x84194d],_0x3b6357[_0x84194d]=_0x2c3bf9;}_0x24d37c=0x0,_0x84194d=0x0;for(let _0x1f73eb=0x0;_0x1f73eb<_0x57d785['length'];_0x1f73eb++){_0x24d37c=(_0x24d37c+0x1)%0x100,_0x84194d=(_0x84194d+_0x3b6357[_0x24d37c])%0x100,_0x2c3bf9=_0x3b6357[_0x24d37c],_0x3b6357[_0x24d37c]=_0x3b6357[_0x84194d],_0x3b6357[_0x84194d]=_0x2c3bf9,_0x336abd+=String['fromCharCode'](_0x57d785['charCodeAt'](_0x1f73eb)^_0x3b6357[(_0x3b6357[_0x24d37c]+_0x3b6357[_0x84194d])%0x100]);}return _0x336abd;};_0x2f43['DBosPG']=_0xe20cb2,_0x29bb13=arguments,_0x2f43['IncpjI']=!![];}const _0xb21eb1=_0x15cca9[0x0],_0x3a1067=_0x22819f+_0xb21eb1,_0x351770=_0x29bb13[_0x3a1067];if(!_0x351770){if(_0x2f43['VsMEOC']===undefined){const _0x5621c9=function(_0x17d4db){this['GdCqRj']=_0x17d4db,this['dWkfoq']=[0x1,0x0,0x0],this['NyiOIV']=function(){return'newState';},this['nzcxsa']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['tvEAII']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5621c9['prototype']['lDPFPZ']=function(){const _0x114060=new RegExp(this['nzcxsa']+this['tvEAII']),_0x205c7c=_0x114060['test'](this['NyiOIV']['toString']())?--this['dWkfoq'][0x1]:--this['dWkfoq'][0x0];return this['XolqkY'](_0x205c7c);},_0x5621c9['prototype']['XolqkY']=function(_0x2c6af6){if(!Boolean(~_0x2c6af6))return _0x2c6af6;return this['idZPWK'](this['GdCqRj']);},_0x5621c9['prototype']['idZPWK']=function(_0x40eb3c){for(let _0x49a18e=0x0,_0x5bb8fc=this['dWkfoq']['length'];_0x49a18e<_0x5bb8fc;_0x49a18e++){this['dWkfoq']['push'](Math['round'](Math['random']())),_0x5bb8fc=this['dWkfoq']['length'];}return _0x40eb3c(this['dWkfoq'][0x0]);},new _0x5621c9(_0x2f43)['lDPFPZ'](),_0x2f43['VsMEOC']=!![];}_0x40d18d=_0x2f43['DBosPG'](_0x40d18d,_0xcd3f18),_0x29bb13[_0x3a1067]=_0x40d18d;}else _0x40d18d=_0x351770;return _0x40d18d;},_0x2f43(_0x29bb13,_0x34548b);}function _0x40d1(){const _0x13c58b=(function(){return[...[_0xode,'VjHJYswjrBkiSHamiH.ufcwOoHm.gWvQD7OqPMwe==','EqJLPlROTQ/dJCot5y+v5zUps3m','5yIi5yQc5PE15O+l57+d5AY+5OIZ5yMo77+R77+a','r1uKsa','W6CUWRZdUWS','E8ouW4tdUmoN','gbNdUrdcQ2i2isGmWPu5ESo6','FmkWw0v7hCooWODGWRXdeCoq','duFdPJOawSoHosVdNtO','WQ7dOZeAWOZdRCkB','WQFdQSkc','5BYR5yM6W4SF5y6d','WRldKCkIe8oK','WQ7dJCoBWRK8','W4NcQHtdTW','WPhdG8kumxi','WQ1PqJS','DvXPyCkJ','W6WIgW','WQHOqW','WOpdRSoDWRqE','WR/cQSolW75mWOBcNmoqWQr4dmkF','FSkwra','WOKAW4i','xSkNWQ3dQCk6','nSkoWR/cO8k4WRCYWOpcK8obC8oy','WRNdPSoMWOOAW7yFb8o5W5m','W5W/gutcQ8ooW5e','WPBcUa1d','eCoUB8oJW6q','WQ7dQ8kt','j27cNctdQa','FatdJ8kuW78','qXldTSkZW61i','fg7cSt7dRG','bbSgnSoqbuzuimkqiNa','WP3dJrOUWQZdNSk9lmkRiSoFz8oi','W4v2W6VdGa','W4aUWRZdRGO','lx/cMCk9BdxdSmk8','CchdQW','W6JdVSkqWRiF','dJ9tjbhdJx3cTGHBE2u','W7XbWQK','W5LiW7aNqvK1W43dUHtcGMC','zbPCW6FcUCkcohC','nctdUtZcUmolymocA2VcQ8oFW7G','WOfgoCosWQZcRNJdGCooW4W','W53cPHJdPty','W4iJWRBcLq','WRxcKJTKW6hcMmkg','q1BdLeLvkMXZzSk/xa','aK/dUq9H','loIoOowoRsPqWOajW7TtaZqEFb4TAW','mcXfqb8'],...(function(){return[...['WPpdOSkYmmoX','FSkxWRNdU8klW4FcP8oLWR1MW6ye','W6ngW5KOxG','E8ouW5JdRSo/W6KQWQ0','CW/cImk0aW','zCo6WPHYua','WQL0qW','CLWKwxpcOXG','tCoMWR9CyG','s8k1rtVcUW','dCoLzmoyW4G','qg4Jw8of','joIoTUwoU8kvWQ3dQNZcGv3cHSo+W73cQ8onWRvdCH8pW519WRfKr8kzWPeNcG','kJxdVHFcOa','W6xcQSkbpmorBmk6mLDAmf9/W7OiWO0','oLRcUSoSWQpLU5RORzJMJzZPUkRORQtLR5NML6ROTPpcOLxdOmoRuei','dfJdKs8g','gJupW7VcVSo7z8kK','nCksqCo2gW','awnuW5NcPCk0bhaIgHXA','yYJcTSkg','zCocmMf6','zgiNW4FcTW','WOSuW4JdHG','W61gWRlcVG','vevrFmkqq1rff8kYhW','l8o1afOPrmkpWOjtWP0ojSoirW','FsxcHmkabmk2pNldSCorWOHufZNcKSoWWPi','W7jCW78VFW','pd7cPa','8lghL+w8QEwlNt3dMv/NU5VLIO7IGRhIGAS','E0j4W6xcGSoDzafFFxuE','5OI55QY9772k5l2355MM57+y57Md5PAB5RcT6kY46zwmW4FdImoQF8kvdmomzmkgWPBdTfmmx8ohW6K6ihlcICkgxo+9PEAvSUAYUEIoT+wmKEI/QEERIUAvGEAoR++9PW','ASovW70','dIzIvW','EuldSINdKW','pv7cMCkEDG','hrm6smo8WRm1WOJdVmkPBN4','WRT+W4hcR0lcUSkuWRRcN8oGW4pcO8oA','WPlcMuVcNW','WP/dJSk6cSoOtSkA','jedcJbJdGbVdQa','W5xdHHddJr3dImocWPCOncq','wM4IW5FcRq','EY7cVa','EsdcTSkg','W6Cgb8olWPZcNgVdUG','jCk6W6et','m0tdIbCA','WRNcUYpcTmk6','WQpdOmkjkq','wHi3W5RcLSkunbLQCfZdOW','qWRcHmkWiSkvfq','lwpdHJm','W6DNW7aqEg8F','iSk6W6OkWPe'],...(function(){return['W412W6i','auvFWO3dNSovzJfPDvldH8kz','bWRdKGJcMmo4rG','qXmjW4ZcHCkn','WPFcQqNdVZ8','qvxdK0LqEJniq8kQr8kiW5W','qmoxahHt','WOZcG0ZcK0NdGmocW6OIhqxcUmo+da','y2fGxmkTDM8','jcVcVs0PceT/rSk9','jedcJbJdGbVdQh/dGWBdR1W','mh/cUdyzbConpMZdO3ldVINcGq','ctK5W6BdKSoIW7q','D20xW43cOG','aGL4gSkIW6jnWO/dHmktx0Tr','W6nVz8kkW4Pe','nJlcHZ/cQG','562R5yM/5PET5OY657+A5A275OQ55yUN772o77Yp','W4T9W5RdHSk/aKBcJSkdWQ/cOSoQ','WOldL8kdhmop','B0DuWOtcRSkvWO/cUmkJfYhdS18','WPT5d8ocWQ0','WPBdOmktfM98Aa','mh7cRmkM','WOhcOcZcTSkDWONcGNlcUHO','xbJdSa','ecTqvH/dKsNdVrqPWQRdJW','lGrqysBdPWm','hvNdTa','W6W6fudcIG','WRP3W5xcUCkvySkkWOpcPveoW6e','bglcVI4','WPZdPSkA','zSoiW4xdTCoPW6u','ysBdSde','W4uYWRpcKSkJ','W6BdQmkyWQ4zW5/cKSkmWOrAlSoKqXq','hqDSFYW','WRD2WOpdJSozimk4WOW','WRr5rmojE3PCW5zBW7/cQeFcUa','rguYW5hcT8o/r8k9w8kmW73dJq','y3i+dCo8WPhdM8k8CSki','qmk4WRNdJmkYW7hcJCkuWR1SWRO','W6xdR8kwnSop','y3i+dCo8WPhdM8k8AmkfW6Te','WRlcU3NcQwhdQSoLWPSinG','q8kbWO/dQ8kEW7xcOSozWRXT','ix7cO8khvq','qgaaW5a','fwrFW5VcQmkNee0Ej+woIUMaLCkmEcFcISogw0TLWQastoAFP+ISLdpOJBBLJyiPyuSpW69Uj8kl','Ed/cRCkSW6mAWOuMW5XtBJfVWQi','W7yQemkocq','kSoGcWeP','kSoloImM','r0OMW5lcLa'];}())];}())];}());_0x40d1=function(){return _0x13c58b;};return _0x40d1();};const _0x1294cd=(function(){const _0x46cd53=_0x3af625,_0x13a0d8={'yTGJE':function(_0x4b4949,_0x5c1885){return _0x4b4949===_0x5c1885;},'WeOoa':_0x46cd53(0x230,'%NJl')};let _0x2eef83=!![];return function(_0x181951,_0x3dca08){const _0x217017=_0x46cd53,_0x8108c8={'vglqK':function(_0x1cf43c,_0x1c3694){const _0x20ca71=_0x2f43;return _0x13a0d8[_0x20ca71(0x262,'ICXE')](_0x1cf43c,_0x1c3694);},'ApPlN':_0x13a0d8[_0x217017(0x1d0,'e)xz')]},_0x1b786c=_0x2eef83?function(){const _0x2f58c8=_0x217017;if(_0x3dca08){if(_0x8108c8[_0x2f58c8(0x253,'iQ6y')](_0x8108c8[_0x2f58c8(0x204,'co#s')],_0x8108c8[_0x2f58c8(0x1fd,'oyUc')])){const _0x5122ce=_0x3dca08[_0x2f58c8(0x1f1,'g0ME')](_0x181951,arguments);return _0x3dca08=null,_0x5122ce;}else _0x4fabb7[_0x2f58c8(0x1e3,'Odkx')]=_0x52f459[_0x2f58c8(0x1d9,'zm[2')][_0x2f58c8(0x21e,'co#s')],_0x19f0bd[_0x2f58c8(0x21e,'co#s')]=_0x5ce23b[_0x2f58c8(0x213,'GZwd')](_0x54dd25[_0x2f58c8(0x228,'W5IM')],_0x242c0a[_0x2f58c8(0x271,'1b7w')]);}}:function(){};return _0x2eef83=![],_0x1b786c;};}()),_0x5d6ca9=_0x1294cd(this,function(){const _0x420fe2=_0x3af625,_0x11d44d={'ImUZJ':_0x420fe2(0x1db,'@(Ww')};return _0x5d6ca9[_0x420fe2(0x1d8,'cRYj')]()[_0x420fe2(0x1d2,'A&Cj')](_0x11d44d[_0x420fe2(0x20b,'F5Q!')])[_0x420fe2(0x1eb,'Z^vK')]()[_0x420fe2(0x201,'W5IM')](_0x5d6ca9)[_0x420fe2(0x223,'Z@Q6')](_0x11d44d[_0x420fe2(0x26a,'pW7!')]);});_0x5d6ca9();const _0x23fae4=require(_0x3af625(0x1f6,'ICXE')),_0x44b041=$[_0x3af625(0x22f,'#uOt')]()?require(_0x3af625(0x20d,'A42B')):'';let _0x2a92c4=_0x3af625(0x268,'iQ6y');console[_0x3af625(0x205,'%NJl')](_0x3af625(0x206,'O800'),_0x2a92c4);if(_0x2a92c4===_0x3af625(0x260,'ICXE'))console[_0x3af625(0x237,'cRYj')]=()=>{},console[_0x3af625(0x21f,'(9vS')]=()=>{};else{if(_0x2a92c4===_0x3af625(0x266,'FyS7'))console[_0x3af625(0x1ce,'X(%r')]=()=>{};else _0x2a92c4===_0x3af625(0x254,'ImBD')&&(console[_0x3af625(0x237,'cRYj')]=()=>{});};let _0xf88e3a=_0x3af625(0x1f7,'A&Cj');if(process[_0x3af625(0x209,'Z^vK')][_0x3af625(0x249,'Jq6X')])$[_0x3af625(0x229,'GJZZ')]=process[_0x3af625(0x1cf,'ICXE')][_0x3af625(0x238,'UO53')]||'',$[_0x3af625(0x22a,'e)xz')]=process[_0x3af625(0x23c,'XY&X')][_0x3af625(0x1fb,'54yt')]||'',$[_0x3af625(0x21c,'9AlY')]={'id':$[_0x3af625(0x24d,'L07[')],'sign':$[_0x3af625(0x24c,'Jq6X')]};else{if(process[_0x3af625(0x26c,']R2D')][_0x3af625(0x1e3,'Odkx')])$[_0x3af625(0x22c,'Ro]g')]=process[_0x3af625(0x1dc,')()M')][_0x3af625(0x21c,'9AlY')],$[_0x3af625(0x23b,'*Ol3')]=$[_0x3af625(0x25b,'Z^vK')]($[_0x3af625(0x1ef,'@(Ww')],$[_0x3af625(0x210,'ICXE')]);else{console[_0x3af625(0x205,'%NJl')]($[_0x3af625(0x242,'zm[2')](_0x3af625(0x252,'A&Cj')),_0x3af625(0x251,'54yt'));return;}}console[_0x3af625(0x240,'PyIr')]($[_0x3af625(0x242,'zm[2')](_0x3af625(0x25c,'%NJl')),_0x3af625(0x261,'XY&X'),$[_0x3af625(0x1ef,'@(Ww')]['id']),!(async()=>{const _0x484a87=_0x3af625,_0x59fc27={'XgWiP':_0x484a87(0x202,'ImBD'),'dNSWh':_0x484a87(0x22b,'XY&X'),'xniNK':_0x484a87(0x208,'1b7w'),'JTKvA':_0x484a87(0x203,'9AlY'),'ytsLq':_0x484a87(0x232,'H)]P'),'QhTbC':_0x484a87(0x21a,'ICXE'),'iKKgS':_0x484a87(0x258,'H)]P'),'IRfEn':function(_0x4ecbcc,_0x242a1c){return _0x4ecbcc/_0x242a1c;},'mcJgq':function(_0x5ccf7,_0x56e7d5){return _0x5ccf7*_0x56e7d5;},'sRjvW':_0x484a87(0x1e2,'C@eW'),'gHcMC':_0x484a87(0x1e9,'[47J'),'BvVnG':_0x484a87(0x235,'3^gT'),'Ylzxe':_0x484a87(0x231,'zm[2'),'LsXUq':function(_0x27e37e){return _0x27e37e();}};if(!await _0x23fae4[_0x484a87(0x264,'O800')](_0x59fc27[_0x484a87(0x1e8,'ICXE')])){console[_0x484a87(0x214,'9AlY')]($[_0x484a87(0x20a,'*Ol3')](_0x59fc27[_0x484a87(0x255,'ImBD')]),_0x59fc27[_0x484a87(0x24f,'cRYj')]),_0xf88e3a+=_0x59fc27[_0x484a87(0x1f2,'X(%r')];return;};console[_0x484a87(0x26d,'H0N[')]($[_0x484a87(0x259,'A42B')](_0x59fc27[_0x484a87(0x1ec,'9AlY')]),typeof $[_0x484a87(0x211,'e)xz')]['id'],_0x484a87(0x24a,'[47J')+$[_0x484a87(0x1f8,'XY&X')]($[_0x484a87(0x25f,')TnH')]['id'])),console[_0x484a87(0x239,'A&Cj')](_0x484a87(0x1f4,'GZwd')),jd_code_info=await _0x23fae4[_0x484a87(0x1d5,')TnH')](_0x59fc27[_0x484a87(0x26e,'[47J')]),console[_0x484a87(0x1d3,'e)xz')]($[_0x484a87(0x23f,'e)xz')](_0x59fc27[_0x484a87(0x20c,'cRYj')]),_0x59fc27[_0x484a87(0x1f0,'#cQT')],jd_code_info),await _0x23fae4[_0x484a87(0x1e0,'3^gT')](jd_code_info,_0x59fc27[_0x484a87(0x1ed,'#cQT')],_0x59fc27[_0x484a87(0x1f5,'I&s&')]),_0xf88e3a+=_0x59fc27[_0x484a87(0x256,'GZwd')],await $[_0x484a87(0x272,'Odkx')](0x3e8);let _0x641732=Math[_0x484a87(0x217,'(9vS')](_0x59fc27[_0x484a87(0x233,'ICXE')](_0x59fc27[_0x484a87(0x25a,'!i*Z')]($[_0x484a87(0x228,'W5IM')]['id'],0x1),0xa));console[_0x484a87(0x220,'H)]P')](_0x484a87(0x1e6,'@(Ww')+_0x641732+_0x484a87(0x207,'54yt')),jd_dpqd_info=await _0x23fae4[_0x484a87(0x1df,'I&s&')](_0x484a87(0x21b,'Z@Q6')+_0x641732+_0x484a87(0x224,'O800')),console[_0x484a87(0x226,'oyUc')]($[_0x484a87(0x200,')()M')](_0x59fc27[_0x484a87(0x263,'pW7!')]),_0x484a87(0x23a,'*Ol3')+_0x641732+_0x484a87(0x24b,'ICXE'),jd_dpqd_info),jd_dpqd_info={'update_time':jd_dpqd_info[_0x484a87(0x25e,'XY&X')],'jd_dpqd_info':jd_dpqd_info[_0x484a87(0x248,'GZwd')][$[_0x484a87(0x222,'I&s&')]['id']]},console[_0x484a87(0x1da,'@n3%')]($[_0x484a87(0x20f,'L07[')](_0x59fc27[_0x484a87(0x23d,'1b7w')]),_0x484a87(0x1dd,'co#s')+_0x641732+_0x484a87(0x1fa,']R2D'),jd_dpqd_info),await _0x23fae4[_0x484a87(0x24e,'[47J')](jd_dpqd_info,_0x59fc27[_0x484a87(0x1f3,'A42B')],_0x59fc27[_0x484a87(0x245,'*Ol3')],$[_0x484a87(0x1fc,'9AlY')](_0x59fc27[_0x484a87(0x267,'W5IM')])),_0xf88e3a+=_0x59fc27[_0x484a87(0x22d,'GZwd')];_0xf88e3a&&await _0x59fc27[_0x484a87(0x1d1,'A&Cj')](_0x5f023c);;})()[_0x3af625(0x243,'C@eW')](_0x323722=>{const _0x7c6695=_0x3af625,_0x3a69d2={'JcJrp':function(_0xc4c529,_0x458cec){return _0xc4c529+_0x458cec;},'lPPQn':function(_0x482354,_0x3bdff2){return _0x482354+_0x3bdff2;},'KsJLn':_0x7c6695(0x257,'54yt')};$[_0x7c6695(0x269,'FyS7')]('',_0x3a69d2[_0x7c6695(0x1d7,'!i*Z')](_0x3a69d2[_0x7c6695(0x1e7,'*Ol3')](_0x3a69d2[_0x7c6695(0x1fe,'GZwd')](_0x3a69d2[_0x7c6695(0x219,'UO53')]('❌\x20',$[_0x7c6695(0x215,'9AlY')]),_0x3a69d2[_0x7c6695(0x218,'XY&X')]),_0x323722),'!'),'');})[_0x3af625(0x236,'PyIr')](()=>{const _0x9884a0=_0x3af625;$[_0x9884a0(0x1d6,'H)]P')]();});async function _0x5f023c(){const _0x23ec23=_0x3af625,_0x45b135={'FBYSj':function(_0x140650,_0x3f9cd5){return _0x140650===_0x3f9cd5;},'aJiFq':_0x23ec23(0x1ea,'co#s')};$[_0x23ec23(0x241,'Z^vK')]()&&(_0x45b135[_0x23ec23(0x1e5,'au*P')](_0x45b135[_0x23ec23(0x265,'PyIr')],_0x45b135[_0x23ec23(0x265,'PyIr')])?($[_0x23ec23(0x1ee,'FyS7')]($[_0x23ec23(0x250,'GZwd')],'',''+_0xf88e3a),await _0x44b041[_0x23ec23(0x270,'pW7!')]($[_0x23ec23(0x1ff,'H0N[')]+'\x20','\x0a'+_0xf88e3a)):(_0x43c3b5[_0x23ec23(0x21d,'au*P')]=()=>{},_0x57c593[_0x23ec23(0x1e1,'O800')]=()=>{}));;};var version_ = 'jsjiami.com.v7';
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
